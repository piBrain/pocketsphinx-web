!function(e){var a={};function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){"use strict";var r;r=function(e){switch(e.data.command){case"initialize":!function(e,a){var t,r=new Module.Config;if(s=new Module.AudioBuffer,e)for(;e.length>0;){var c=e.pop();2===c.length?r.push_back([c[0],c[1]]):n({status:"error",command:"initialize",code:"js-data"})}o?(t=o.reInit(r))!==Module.ReturnType.SUCCESS&&n({status:"error",command:"initialize",code:t}):(o=new Module.Recognizer(r),d=new Module.Segmentation,n(void 0===o?{status:"error",command:"initialize",code:Module.ReturnType.RUNTIME_ERROR}:{status:"done",command:"initialize",id:a})),r.delete()}(e.data.data,e.data.callbackId);break;case"load":!function(e,a){try{importScripts.apply(this,e),n({status:"done",command:"load",id:a})}catch(e){n({status:"error",command:"load",code:"NETWORK_ERROR"})}}(e.data.data,e.data.callbackId);break;case"addWords":!function(e,a){if(o){for(var t=new Module.VectorWords,r=0;r<e.length;r++){var s=e[r];2===s.length&&t.push_back([s[0],s[1]])}var d=o.addWords(t);d!==Module.ReturnType.SUCCESS?n({status:"error",command:"addWords",code:d}):n({id:a}),t.delete()}else n({status:"error",command:"addWords",code:"js-no-recognizer"})}(e.data.data,e.data.callbackId);break;case"addGrammar":!function(e,a){var t;if(o)if(e.hasOwnProperty("numStates")&&e.numStates>0&&e.hasOwnProperty("start")&&e.hasOwnProperty("end")&&e.hasOwnProperty("transitions")&&e.transitions.length>0){for(var r=new Module.VectorTransitions;e.transitions.length>0;){var s=e.transitions.pop();s.hasOwnProperty("from")&&s.hasOwnProperty("to")&&(s.hasOwnProperty("word")||(s.word=""),s.hasOwnProperty("logp")||(s.logp=0),r.push_back(s))}var d=new Module.Integers;(t=o.addGrammar(d,{start:e.start,end:e.end,numStates:e.numStates,transitions:r}))!==Module.ReturnType.SUCCESS?n({status:"error",command:"addGrammar",code:t}):n({id:a,data:d.get(0),status:"done",command:"addGrammar"}),r.delete(),d.delete()}else n({status:"error",command:"addGrammar",code:"js-data"});else n({status:"error",command:"addGrammar",code:"js-no-recognizer"})}(e.data.data,e.data.callbackId);break;case"addKeyword":!function(e,a){var t;if(o)if(e.length>0){var r=new Module.Integers;(t=o.addKeyword(r,e))!==Module.ReturnType.SUCCESS?n({status:"error",command:"addKeyword",code:t}):n({id:a,data:r.get(0),status:"done",command:"addKeyword"}),r.delete()}else n({status:"error",command:"addKeyword",code:"js-data"});else n({status:"error",command:"addKeyword",code:"js-no-recognizer"})}(e.data.data,e.data.callbackId);break;case"start":!function(e){if(o){var a;if(e&&(a=o.switchSearch(parseInt(e,10)))!==Module.ReturnType.SUCCESS)return void n({status:"error",command:"switchgrammar",code:a});(a=o.start())!==Module.ReturnType.SUCCESS&&n({status:"error",command:"start",code:a})}else n({status:"error",command:"start",code:"js-no-recognizer"})}(e.data.data);break;case"stop":!function(){if(o){var e=o.stop();e!==Module.ReturnType.SUCCESS?n({status:"error",command:"stop",code:e}):(o.getHypseg(d),n({hyp:o.getHyp(),hypseg:d,final:!0}))}else n({status:"error",command:"stop",code:"js-no-recognizer"})}();break;case"process":!function(e){if(o){for(;s.size()<e.length;)s.push_back(0);for(var a=0;a<e.length;a++)s.set(a,e[a]);var t=o.process(s);t!==Module.ReturnType.SUCCESS?n({status:"error",command:"process",code:t}):(o.getHypseg(d),n({hyp:o.getHyp(),hypseg:d}))}else n({status:"error",command:"process",code:"js-no-recognizer"})}(e.data.data);break;case"proccessBufer":!function(e,a){if(o){for(;a.size()<e.length;)a.push_back(0);for(var t=0;t<e.length;t++)a.set(t,e[t]);var r=o.process(a);r!==Module.ReturnType.SUCCESS?n({status:"error",command:"process",code:r}):(o.getHypseg(d),n({hyp:o.getHyp(),hypseg:d}))}else n({status:"error",command:"process",code:"js-no-recognizer"})}(e.data.data,e.data.buffer)}},self.onmessage=function(e){const a=e.data&&e.data.length&&e.data.length>0?e.data:"./pocketsphinx.js";importScripts(a),self.onmessage=r,self.postMessage({})};var o,s,d,n=function(e){self.postMessage(e)}}]);
//# sourceMappingURL=165ebcf0b08cb99be8a8.worker.js.map
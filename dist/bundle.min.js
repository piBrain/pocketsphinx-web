!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["pocketsphinx-web"]=e():t["pocketsphinx-web"]=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){t.exports=function(){return new Worker(n.p+"165ebcf0b08cb99be8a8.worker.js")}},function(t,e,n){"use strict";var r=window.AudioContext||window.webkitAudioContext,o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;t.exports=function(){return new Promise(function(t,e){var n;try{n=new r}catch(t){e(t)}try{o.call(navigator,{audio:!0},function(e){var r=n.createMediaStreamSource(e);window.firefox_audio_hack=r,t(r)},function(t){e(t)})}catch(t){e(t)}})}},function(t,e,n){"use strict";t.exports=function(){var t=0,e={};this.add=function(n){var r=t;return e[r]=n,t++,r},this.get=function(t){if(e.hasOwnProperty(t)){var n=e[t];return delete e[t],n}return null}}},function(t,e,n){t.exports=function(){return new Worker(n.p+"6eb6835b5c8758007259.worker.js")}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){var n=e||{},o=n.errorCallback||function(){},i=n.inputBufferLength||4096,a=n.outputBufferLength||4e3,s=new r;this.consumers=[],this.context=t.context,this.node=this.context.createScriptProcessor(i),s.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,outputBufferLength:a,outputSampleRate:n.outputSampleRate||16e3}});var c=!1;this.node.onaudioprocess=function(t){c&&s.postMessage({command:"record",buffer:[t.inputBuffer.getChannelData(0),t.inputBuffer.getChannelData(1)]})},this.start=function(t){return this.consumers.forEach(function(e){return e.postMessage({command:"start",data:t}),c=!0,!0}),c=!0,this.consumers.length>0},this.stop=function(){c&&(this.consumers.forEach(function(t){t.postMessage({command:"stop"})}),c=!1),s.postMessage({command:"clear"})},this.cancel=function(){this.stop()};var u=this;s.onmessage=function(t){t.data.error&&"silent"===t.data.error&&o("silent"),"newBuffer"===t.data.command&&c&&u.consumers.forEach(function(e){e.postMessage({command:"process",data:t.data.data})})},t.connect(this.node),this.node.connect(this.context.destination)}},function(t,e,n){"use strict";var r=n(6),o=n(4),i=n(3),a=n(2);function s(){this._callbackManager=new o,this.recorder=this._startRecorder(),this.recognizer=this._startRecognizer()}s.prototype.startRecording=function(t){return this.recorder.then(function(e){e.start(t)})},s.prototype.stopRecording=function(){return this.recorder.then(function(t){t.stop()})},s.prototype.onrecognition=function(){},s.prototype.initialize=function(){if(!this._initialized){var t=this.recognizer.then(this._initRecognizer.bind(this)).then(this._postMessage({command:"initialize"})),e=Promise.all([this.recorder,this.recognizer]).then(function(t){var e=t[0],n=t[1];e.consumers.push(n)});this._initialized=Promise.all([t,e])}return this._initialized},s.prototype.addWords=function(t){return this.recognizer.then(this._postMessage({command:"addWords",data:t}))},s.prototype.processExistingChunk=function(t){return(void 0).recognizer.then((void 0)._postMessage({command:"processBuffer",data:{data:[],buffer:buffer}}))},s.prototype.addGrammar=function(t){return this.recognizer.then(this._postMessage({command:"addGrammar",data:t}))},s.prototype.configure=function(t,e){var n=this;return this.initialize().then(function(){return n.addWords(t)}).then(function(){return n.addGrammar(e)})},s.prototype._startRecorder=function(){return i().then(function(t){return new r(t,{errorCallback:function(){}})})},s.prototype._startRecognizer=function(){var t=new a;return new Promise(function(e,n){t.onmessage=function(){e(t)},t.postMessage("")})},s.prototype._initRecognizer=function(t){var e=this;return t.onmessage=function(t){if(t.data.hasOwnProperty("id")){var n=e._callbackManager.get(t.data.id);if(n){var r={};t.data.hasOwnProperty("data")&&(r=t.data.data),n(r)}}t.data.hasOwnProperty("hyp")&&e.onrecognition(t),t.data.hasOwnProperty("status")&&"error"===t.data.status&&e.onerror(t)},t},s.prototype._postMessage=function(t){var e=this._callbackManager;return function(n){var r=this,o=t||{};return new Promise(function(t,i){o.callbackId=e.add(t.bind(r)),n.postMessage(o)})}},t.exports=s},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var r,o=n(7);(function(){null!==n(1)&&null!==n(0)?void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r):void 0!==t&&null!==t&&null!==t.exports&&(t.exports=o),this.Sphinx=o}).call(window||void 0)}).call(this,n(8)(t))}])});
//# sourceMappingURL=bundle.min.js.map
{"version":3,"sources":["webpack://pocketsphinx-web/webpack/bootstrap","webpack://pocketsphinx-web/./src/worker/audio-recorder.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","e","t","inSampleRate","outputBufferLength","recBuffers","outputSampleRate","self","onmessage","data","command","config","sampleRate","inputBuffer","isSilent","length","push","result","Int16Array","bin","num","indexIn","indexOut","Math","min","output","error","postMessage","slice","buffer"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,KACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,KAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,gBACAC,cACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,YAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAAoB,SAC3B,WAAiC,OAAApB,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAW,EAAAC,GAAsD,OAAAX,OAAAY,UAAAC,eAAApB,KAAAiB,EAAAC,IAGtDzB,EAAA4B,EAAA,GAIA5B,IAAA6B,EAAA,cAAAC,EAAAC,EAAAZ,GAAA,aCjEA,IAAAa,EAAAC,EAAAC,KAAAC,EAAA,KAEAC,KAAAC,UAAA,SAAAP,GAEA,OAAAA,EAAAQ,KAAAC,SACA,WAYAC,EAXAV,EAAAQ,KAAAE,OAYAR,EAAAQ,EAAAC,WACAR,EAAAO,EAAAP,mBACAE,EAAAK,EAAAL,oBAbA,MACA,cAeA,SAAAO,GAEA,IADA,IAAAC,KACAvC,EAAA,EAAkBA,EAAAsC,EAAA,GAAAE,OAA4BxC,IAC9C8B,EAAAW,KAAA,OAAAH,EAAA,GAAAtC,GAAAsC,EAAA,GAAAtC,KAEA,KAAA8B,EAAAU,OAAAT,EAAAH,EAAAC,GAAA,CAIA,IAHA,IAAAa,EAAA,IAAAC,WAAAd,GACAe,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAEAD,EAAAjB,GAAA,CAGA,IAFAe,EAAA,EACAC,EAAA,EACAE,EAAAC,KAAAC,IAAAnB,EAAAU,QAAAM,EAAA,GAAAlB,EAAAG,IACAa,GAAAd,EAAAiB,GACAF,GAAA,EACAE,IAEAL,EAAAI,GAAAF,EAAAC,EACAN,GAAA,IAAAG,EAAAI,KAA+CP,MAC/CO,IAEA,IAAAI,GACAf,QAAA,aACAe,EAAAhB,KAAAQ,EACAH,IAAkBW,EAAAC,MAAA,UAClBnB,KAAAoB,YAAAF,GACApB,IAAAuB,MAAAN,IA1BA,CAdArB,EAAAQ,KAAAoB,QACA,MACA,YA2CAxB,KArCA,IAAAM","file":"6eb6835b5c8758007259.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\nvar recBuffers = [], outputSampleRate = 16000, inSampleRate, outputBufferLength;\n\nself.onmessage = function(e){\n  /* jshint indent: false */\n  switch(e.data.command){\n    case 'init':\n      init(e.data.config);\n      break;\n    case 'record':\n      record(e.data.buffer);\n      break;\n    case 'clear':\n      clear();\n      break;\n  }\n};\n\nfunction init(config){\n  inSampleRate = config.sampleRate;\n  outputBufferLength = config.outputBufferLength;\n  outputSampleRate = config.outputSampleRate || outputSampleRate;\n}\n\nfunction record(inputBuffer){\n  var isSilent = true;\n  for (var i = 0 ; i < inputBuffer[0].length ; i++) {\n    recBuffers.push((inputBuffer[0][i] + inputBuffer[1][i]) * 16383.0);\n  }\n  while(recBuffers.length * outputSampleRate / inSampleRate > outputBufferLength) {\n    var result = new Int16Array(outputBufferLength);\n    var bin = 0, num = 0, indexIn = 0, indexOut = 0;\n\n    while(indexIn < outputBufferLength) {\n      bin = 0;\n      num = 0;\n      while(indexOut < Math.min(recBuffers.length, (indexIn + 1) * inSampleRate / outputSampleRate)) {\n        bin += recBuffers[indexOut];\n        num += 1;\n        indexOut++;\n      }\n      result[indexIn] = bin / num;\n      if(isSilent && (result[indexIn] !== 0)) { isSilent = false; }\n      indexIn++;\n    }\n    var output = {};\n    output.command = 'newBuffer';\n    output.data = result;\n    if (isSilent){ output.error = 'silent'; }\n    self.postMessage(output);\n    recBuffers = recBuffers.slice(indexOut);\n  }\n}\n\nfunction clear(){\n  recBuffers = [];\n}\n"],"sourceRoot":""}